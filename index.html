<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NY Timer ‚Äî prototype</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{ --bg:#111; --panel:rgba(255,255,255,0.04); --text:#fff }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;position:relative}
  header{position:fixed;top:0;left:0;width:100%;height:60px;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:space-between;padding:0 18px;z-index:40}
  .brand{font-weight:700}
  .burger{width:38px;height:26px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
  .burger span{height:4px;background:#fff;border-radius:4px;display:block}
  .menu{position:fixed;top:60px;left:-280px;width:260px;height:100vh;background:#181818;padding:16px;transition:left .28s ease;z-index:39}
  .menu.open{left:0}
  .menu h2{margin:6px 0 10px 0}
  .menu button{display:block;width:100%;margin:8px 0;padding:10px;border-radius:8px;border:0;background:#222;color:#fff;text-align:left;cursor:pointer}
  main{padding:80px 18px 120px 18px;max-width:1100px;margin:0 auto;position:relative;z-index:2}
  #timer{font-size:clamp(36px,8vw,88px);text-align:center;margin-top:8px;font-weight:800;text-shadow:0 0 14px rgba(255,255,255,0.15);z-index:10;position:relative}
  

  .kookoo-wrapper{position:relative;width:240px;height:240px;margin:18px auto 0;z-index:25}
  .kookoo-background-image{position:absolute;width:240px;height:240px;left:50%;top:50%;transform:translate(-50%, -50%);z-index:0;pointer-events:none}
  .kookoo-background-image img{display:none; width:100%;height:100%;object-fit:contain}
  .kookoo-particles{position:absolute;width:400px;height:400px;left:50%;top:50%;transform:translate(-50%, -50%);z-index:1;pointer-events:none}
  .kookoo-particles img{width:100%;height:100%;object-fit:contain}
  .kookoo-circle{position:absolute;inset:0;border-radius:50%;background:radial-gradient(circle at 40% 30%, rgba(120,180,255,0.28), rgba(40,80,160,0.08));box-shadow:0 0 36px rgba(80,150,255,0.45);display:block;z-index:2}
  .kookoo-gif{position:absolute;width:260px;height:260px;left:50%;top:50%;transform:translate(-50%,-50%);object-fit:contain;pointer-events:none;z-index:3}
  .kookoo-timer{position:absolute;left:50%;top:50%;transform:translate(-50%,-10%);text-align:center;font-weight:800;color:#65bbfd;text-shadow:0 0 18px rgba(129, 204, 255, 0.9);font-size:20px;pointer-events:none;z-index:4}
  

  .calendar{margin-top:48px;display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
  .day{background:#191919;padding:22px;border-radius:10px;text-align:center;font-size:18px;cursor:pointer;user-select:none;transition:transform .12s ease}
  .day:active{transform:translateY(2px)}
  .day.locked{opacity:0.4;cursor:not-allowed;background:#0d0d0d}
  .day.opened{background:#1a3a1a;border:2px solid #2d5;position:relative}
  .day.opened::after{content:'‚úì';position:absolute;top:4px;right:8px;color:#2d5;font-size:16px;font-weight:bold}
  

  footer{position:fixed;left:0;bottom:0;width:100%;height:44px;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;font-weight:700;z-index:40}
  

  .fx { position:fixed; top:-20px; pointer-events:none; user-select:none; z-index:18; opacity:0.95; }
  .fx.snow{ font-size:18px; color:#eaf6ff; text-shadow:0 0 6px rgba(120,200,255,0.6) }
  .fx.rain{ font-size:22px; color:#bfe7ff; opacity:0.9 }
  .fx.ash{ font-size:16px; color:#d0c6c0; opacity:0.95 }
  .fx.star{ font-size:14px; color:#fff; opacity:0.8 }
  .fx.pixel{ font-size:12px; color:#00ff00; font-family:monospace; text-shadow:0 0 3px #00ff00 }
  .fx.planet{ width:40px; height:40px; border-radius:50%; opacity:0.6 }
  .fx.neon-circle{ position:fixed; border-radius:50%; border:2px solid; opacity:0.4; pointer-events:none }
  .fx.galaxy-particle{ width:4px; height:4px; border-radius:50%; background:#b8a0ff; box-shadow:0 0 8px #b8a0ff; opacity:0.8 }
  .fx.neon-line{ position:fixed; height:2px; width:100px; background:linear-gradient(90deg, transparent, #0ff, transparent); opacity:0.6 }
  .fx.fire-ember{ font-size:20px; color:#ff6b35; opacity:0.8 }
  
  @keyframes fxFall {
    to { transform: translateY(120vh) translateX(20px); opacity:0.18; }
  }
  @keyframes starTwinkle {
    0%, 100% { opacity:0.3; transform:scale(0.8) }
    50% { opacity:1; transform:scale(1.2) }
  }
  @keyframes pixelDrift {
    to { transform: translateY(100vh); opacity:0; }
  }
  @keyframes planetMove {
    to { transform: translate(calc(100vw + 50px), 80vh); opacity:0; }
  }
  @keyframes neonPulse {
    0%, 100% { transform:translate(-50%,-50%) scale(1); opacity:0.3 }
    50% { transform:translate(-50%,-50%) scale(1.5); opacity:0.6 }
  }
  @keyframes neonLineSweep {
    to { transform: translateX(100vw) rotate(45deg); opacity:0; }
  }
  @keyframes galaxyRotate {
    to { transform: translate(-50%, -50%) rotate(360deg); }
  }
  @keyframes galaxyFloat {
    0%, 100% { transform: translateY(0) translateX(0) }
    50% { transform: translateY(-30px) translateX(20px) }
  }
  @keyframes emberRise {
    to { transform: translateY(-100vh) translateX(30px); opacity:0; }
  }
  @keyframes rainFall {
    to { transform: translateY(120vh); opacity:0.1; }
  }


  #timer.neon {
    color:#0ff;
    text-shadow: 0 0 10px #0ff, 0 0 20px #0ff, 0 0 40px #0ff, 0 0 80px #0ff, 0 0 120px #0ff;
    animation: neonFlicker 3s infinite alternate;
  }
  @keyframes neonFlicker {
    0%, 100% { opacity:1 }
    50% { opacity:0.85 }
  }


  #timer.pixel {
    font-family:monospace;
    color:#0f0;
    text-shadow: 3px 3px 0 #050, -2px -2px 0 #0a0, 0 0 20px #0f0;
    image-rendering:pixelated;
  }
  

  .galaxy-vortex {
    position:fixed;
    top:50%;
    left:50%;
    width:800px;
    height:800px;
    transform:translate(-50%, -50%);
    background:radial-gradient(ellipse at center, rgba(138,43,226,0.4), rgba(75,0,130,0.2) 40%, transparent 70%);
    border-radius:50%;
    animation: galaxyRotate 40s linear infinite;
    z-index:1;
    pointer-events:none;
  }
  

  #timer.fire {
    color:#ff6b35;
    text-shadow: 0 0 20px #ff6b35, 0 0 40px #ff4500, 0 0 60px #ff0000;
    animation: fireFlicker 0.3s infinite alternate;
  }
  @keyframes fireFlicker {
    0% { text-shadow: 0 0 20px #ff6b35, 0 0 40px #ff4500, 0 0 60px #ff0000; }
    100% { text-shadow: 0 0 25px #ff4500, 0 0 50px #ff0000, 0 0 70px #8b0000; }
  }
  

  #timer.sorrow {
    color:#6b9bd1;
    text-shadow: 0 0 15px rgba(107, 155, 209, 0.8);


#timer.minecraft {
  font-family:'Courier New', monospace;
  color:#5c3a21;
  text-shadow: 3px 3px 0 #000, 0 0 20px rgba(92, 58, 33, 0.8);
  font-weight: 900;
}


#timer.demonslayer {
  font-family:'Georgia', serif;
  color:#ff1744;
  text-shadow: 0 0 20px #ff1744, 0 0 40px #f50057, 0 0 60px #c51162, 2px 2px 0 #000;
  animation: breathingGlow 2s ease-in-out infinite;
}

@keyframes breathingGlow {
  0%, 100% { text-shadow: 0 0 20px #ff1744, 0 0 40px #f50057, 0 0 60px #c51162, 2px 2px 0 #000; }
  50% { text-shadow: 0 0 30px #ff1744, 0 0 60px #f50057, 0 0 90px #c51162, 2px 2px 0 #000; }
}

/* –¢–µ–º–∞ MINECRAFT */
.minecraft-wrap {
  position: fixed;
  inset: 0;
  /* –¢–µ–∫—Å—Ç—É—Ä–∞ –∑–µ–º–ª–∏ (–ø–∏–∫—Å–µ–ª—å–Ω–∞—è) */
  background: 
    linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)),
    repeating-conic-gradient(#5d3a1a 0% 25%, #4b2d14 0% 50%) 0% 0%/40px 40px;
  z-index: -2;
}

/* –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∫–∞ —Ç—Ä–∞–≤—ã */
.mc-grass-top {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 20px;
  background: #54a031;
  border-bottom: 4px solid #3d7123;
  z-index: -1;
}

/* –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ –±–ª–æ–∫–∏-—á–∞—Å—Ç–∏—Ü—ã */
.mc-block-particle {
  position: fixed;
  width: 20px;
  height: 20px;
  pointer-events: none;
  z-index: 37;
  image-rendering: pixelated;
  border: 2px solid rgba(0,0,0,0.2);
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–æ–≤ —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞ */
.block-dirt { background: #8B4513; box-shadow: inset -4px -4px #5d3a1a; }
.block-grass { background: #32CD32; box-shadow: inset -4px -4px #228B22; }
.block-stone { background: #808080; box-shadow: inset -4px -4px #696969; }
.block-diamond { background: #b9f2ff; box-shadow: inset -4px -4px #87ceeb; }

/* –¢–∞–π–º–µ—Ä –≤ —Å—Ç–∏–ª–µ Minecraft (–∫–∞–∫ —Ç–∞–±–ª–∏—á–∫–∞ –∏–ª–∏ –æ–∫–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞) */
#timer.mc-style {
  font-family: 'Courier New', Courier, monospace; /* –ò–ª–∏ —Ç–≤–æ–π –ø–∏–∫—Å–µ–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç */
  background: rgba(198, 198, 198, 1);
  border: 4px solid;
  border-color: #ffffff #555555 #555555 #ffffff; /* –≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø—É–∫–ª–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫ MC */
  padding: 20px 40px;
  color: #3f3f3f;
  text-shadow: 2px 2px #bfbfbf;
  box-shadow: 0 0 0 4px #000;
}

.fx.minecraft-block {
  font-size:24px;
  opacity:0.8;
}

.fx.sakura {
  font-size:16px;
  color:#ffb7c5;
  opacity:0.9;
}

@keyframes sakuraFloat {
  to { transform: translateY(100vh) translateX(50px) rotate(360deg); opacity:0; }
}
  }

.music-player {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 6px 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
  transition: all 0.3s ease;
}

.music-player:hover {
  background: rgba(255,255,255,0.2);
}

.music-icon {
  font-size: 20px;
  transition: transform 0.3s ease;
}

.music-player.playing .music-icon {
  animation: musicPulse 1s infinite;
}

@keyframes musicPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.music-text {
  font-size: 12px;
  font-weight: 600;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –º—É–∑—ã–∫–µ */
.music-notice {
  position: fixed;
  bottom: 20px;
  left: -500px; /* –ü—Ä—è—á–µ–º –∑–∞ —ç–∫—Ä–∞–Ω —Å–ª–µ–≤–∞ */
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 12px 20px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 100;
  transition: left 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.music-notice.active {
  left: 20px; /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º */
}

.disc-wrapper {
  font-size: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.disc {
  animation: discSpin 3s linear infinite;
}

@keyframes discSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.track-info {
  display: flex;
  flex-direction: column;
}

.track-label {
  font-size: 10px;
  color: #aaa;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.track-title {
  font-size: 14px;
  font-weight: 700;
  color: #fff;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è SORROW: –í—Å–ø—ã—à–∫–∞ –º–æ–ª–Ω–∏–∏ */
@keyframes lightning {
  0%, 98%, 100% { opacity: 0; }
  98.5% { opacity: 1; }
  99% { opacity: 0.4; }
  99.5% { opacity: 1; }
}
.lightning-flash {
  position: fixed; inset: 0; background: #fff; 
  pointer-events: none; z-index: 100; opacity: 0;
}
.active-lightning { animation: lightning 8s infinite; }

/* –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è NEON: –°–∫–∞–Ω–∏—Ä—É—é—â–∏–µ –ª–∏–Ω–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∞ */
.neon-overlay {
  position: fixed; inset: 0; pointer-events: none; z-index: 50;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
  background-size: 100% 4px; opacity: 0.3;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è DEFAULT: –ú–∏–≥–∞—é—â–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞ */
.garland {
  position: fixed; top: 60px; left: 0; width: 100%; height: 10px;
  display: flex; justify-content: space-around; z-index: 38; pointer-events: none;
}
.light {
  width: 8px; height: 8px; border-radius: 50%;
  animation: flash 1s infinite alternate;
}
@keyframes flash {
  from { opacity: 0.3; box-shadow: 0 0 0px #fff; }
  to { opacity: 1; box-shadow: 0 0 8px #fff; }
}

/* –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è GALAXY: –ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—å */
.nebula {
  position: fixed; top: 50%; left: 50%; width: 150vw; height: 150vh;
  background: radial-gradient(circle, rgba(75, 0, 130, 0.15), rgba(0, 0, 128, 0.05), transparent 70%);
  transform: translate(-50%, -50%); z-index: -1; pointer-events: none;
  animation: nebulaRotate 60s linear infinite;
}
@keyframes nebulaRotate { to { transform: translate(-50%, -50%) rotate(360deg); } }

/* –ü—É–ª—å—Å–∞—Ü–∏—è –¥–ª—è PIXEL —Ç–∞–π–º–µ—Ä–∞ */
#timer.pixel-active {
  animation: pixelBreathe 1.5s ease-in-out infinite;
}
@keyframes pixelBreathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.03); }
}

/* STARFIELD: –≠—Ñ—Ñ–µ–∫—Ç –∫–æ–º–µ—Ç—ã */
.comet {
  position: fixed;
  background: linear-gradient(to right, rgba(255,255,255,0), rgba(255,255,255,0.8));
  height: 2px;
  width: 150px;
  pointer-events: none;
  z-index: 37;
  filter: blur(1px);
}
.stardust {
    position: fixed;
    background: white;
    border-radius: 50%;
    pointer-events: none;
    z-index: 1;
    filter: blur(1px);
}
.nebula-glow {
    position: fixed;
    width: 60vw;
    height: 60vh;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(64, 0, 128, 0.15), transparent 70%);
    pointer-events: none;
    z-index: -1;
    animation: nebulaMove 20s infinite alternate ease-in-out;
}
@keyframes nebulaMove {
    from { transform: translate(-10%, -10%); }
    to { transform: translate(10%, 10%); }
}
/* MINECRAFT: –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ñ–æ–Ω –∑–µ–º–ª–∏ */
.minecraft-wrap {
    position: fixed;
    inset: 0;
    z-index: -2;
    background-color: #5d3a1a;
    background-image: 
        linear-gradient(45deg, #4b2d14 25%, transparent 25%), 
        linear-gradient(-45deg, #4b2d14 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #4b2d14 75%),
        linear-gradient(-45deg, transparent 75%, #4b2d14 75%);
    background-size: 60px 60px; /* –†–∞–∑–º–µ—Ä "–±–ª–æ–∫–æ–≤" —Ñ–æ–Ω–∞ */
    image-rendering: pixelated;
}

/* –ö–£–ë–ò–ß–ï–°–ö–ò–ô –¢–ê–ô–ú–ï–† */
#timer.mc-style {
    font-family: 'Courier New', Courier, monospace;
    font-weight: bold;
    background: #c6c6c6;
    /* –ì—Ä–∞–Ω–∏—Ü–∞ –∫–∞–∫ —É –±–ª–æ–∫–æ–≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è MC */
    border: 6px solid #000;
    box-shadow: 
        inset -4px -4px 0 #555, 
        inset 4px 4px 0 #fff;
    padding: 15px 30px;
    color: #3f3f3f;
    text-shadow: 2px 2px 0 #fff;
    border-radius: 0; /* –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—É–≥–ª–µ–Ω–∏–π! –¢–æ–ª—å–∫–æ –∫—É–±—ã */
    position: relative;
    z-index: 10;
}

/* –°–ò–õ–£–≠–¢ –ö–†–ò–ü–ï–†–ê */
.creeper-silhouette {
    position: fixed;
    bottom: -10px;
    right: -100px; /* –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∑–∞ —ç–∫—Ä–∞–Ω–æ–º */
    width: 80px;
    height: 120px;
    background: rgba(0, 0, 0, 0.15); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —á–µ—Ä–Ω—ã–π */
    z-index: -1;
    pointer-events: none;
    /* –†–∏—Å—É–µ–º –ö—Ä–∏–ø–µ—Ä–∞ —á–∏—Å—Ç—ã–º CSS —á–µ—Ä–µ–∑ –º–∞—Å–∫—É –∏–ª–∏ –±–ª–æ–∫–∏ */
    clip-path: polygon(
        20% 0%, 80% 0%, 80% 20%, 100% 20%, 100% 100%, 80% 100%, 80% 80%, 20% 80%, 20% 100%, 0% 100%, 0% 20%, 20% 20%
    );
    animation: creeperWalk 40s linear infinite;
}

@keyframes creeperWalk {
    0% { right: -100px; transform: scaleX(1); }
    45% { right: 110vw; transform: scaleX(1); }
    50% { right: 110vw; transform: scaleX(-1); } /* –†–∞–∑–≤–æ—Ä–æ—Ç */
    95% { right: -100px; transform: scaleX(-1); }
    100% { right: -100px; transform: scaleX(1); }
}

/* –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ß–ê–°–¢–ò–¶–´ –ë–õ–û–ö–û–í */
.mc-block-particle {
    position: fixed;
    width: 25px;
    height: 25px;
    pointer-events: none;
    z-index: 5; /* –ß—Ç–æ–±—ã –±—ã–ª–∏ –Ω–∞–¥ —Ñ–æ–Ω–æ–º, –Ω–æ –ø–æ–¥ —Ç–∞–π–º–µ—Ä–æ–º */
    image-rendering: pixelated;
    border: 2px solid rgba(0,0,0,0.3);
}

.block-dirt { background: #5d3a1a; box-shadow: inset -4px -4px #4b2d14; }
.block-grass { background: #54a031; box-shadow: inset -4px -4px #3d7123; }
.block-stone { background: #7a7a7a; box-shadow: inset -4px -4px #5a5a5a; }
.block-diamond { background: #63d1d6; box-shadow: inset -4px -4px #49a8ad; }

/* DEMON SLAYER: –õ–µ–ø–µ—Å—Ç–∫–∏ —Å–∞–∫—É—Ä—ã –∏ —Ä–∞–∑—Ä–µ–∑—ã */
.sakura {
    position: fixed;
    width: 12px;
    height: 14px;
    background: #ffb7c5;
    border-radius: 10px 1px 10px 10px;
    pointer-events: none;
    z-index: 37;
    box-shadow: 0 0 5px rgba(255, 183, 197, 0.5);
}

.sword-slash {
  position: fixed;
  background: white;
  height: 2px;
  width: 0;
  z-index: 100;
  pointer-events: none;
  filter: drop-shadow(0 0 5px #0ff);
  transform-origin: left;
}

.kookoo-bg {
    display: none; /* –°–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –≤—Å–µ–≥–¥–∞ */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -3;
}

.kookoo-bg.active {
    display: none; /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Å–∫–∏–Ω KooKoo –∞–∫—Ç–∏–≤–µ–Ω */
}

/* STARFIELD: –≠—Ñ—Ñ–µ–∫—Ç –≥–∏–ø–µ—Ä–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ */
.star-line {
    position: fixed;
    background: #fff;
    width: 2px;
    z-index: 1;
    pointer-events: none;
    border-radius: 1px;
}

/* –ü–ª–∞–Ω–µ—Ç—ã –Ω–∞ —Ñ–æ–Ω–µ */
.space-planet {
    position: fixed;
    border-radius: 50%;
    z-index: -1;
    pointer-events: none;
    opacity: 0.6;
    filter: blur(2px);
    box-shadow: inset -10px -10px 20px rgba(0,0,0,0.8);
}

/* –ù–∞—Å—ã—â–µ–Ω–Ω–∞—è —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—å */
.starfield-nebula {
    position: fixed;
    inset: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 100, 255, 0.1) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(100, 0, 200, 0.1) 0%, transparent 40%);
    z-index: -2;
    pointer-events: none;
}

/* –°–¢–ò–õ–¨ –î–õ–Ø STARFIELD: "–ë–æ—Ä—Ç–æ–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä" */
#timer.starfield-style {
    font-family:  sans-serif;
    /* –Ø—Ä–∫–∏–π –≥–æ–ª—É–±–æ–π —Ü–≤–µ—Ç (Cyan) */
    color: #00f2ff; 
    
    /* –°–ª–æ–µ–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ (Bloom effect) */
    text-shadow: 
        0 0 5px #fff,           /* 1. –ë–µ–ª–æ–µ —è–¥—Ä–æ –¥–ª—è —è—Ä–∫–æ—Å—Ç–∏ */
        0 0 10px #00f2ff,       /* 2. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç */
        0 0 20px #00f2ff,       /* 3. –û—Ä–µ–æ–ª –≤–æ–∫—Ä—É–≥ —Ü–∏—Ñ—Ä */
        0 0 40px rgba(0, 242, 255, 0.7); /* 4. –ú—è–≥–∫–æ–µ —Ä–∞—Å—Å–µ–∏–≤–∞–Ω–∏–µ –≤ –ø—É—Å—Ç–æ—Ç—É */


    background: rgba(0, 10, 30, 0.8);
    padding: 20px 50px;
    backdrop-filter: blur(10px);
}

/* –°–¢–ò–õ–¨ –î–õ–Ø GALAXY: "–ì–æ–ª–æ–≥—Ä–∞–º–º–∞" */
#timer.galaxy-style {
    font-family: 'Orbitron', sans-serif;
    color: #f0f; /* –Ø—Ä–∫–∏–π —Ä–æ–∑–æ–≤—ã–π/–ø—É—Ä–ø—É—Ä–Ω—ã–π */
    text-shadow: 
        0 0 5px #f0f,
        0 0 15px #f0f,
        0 0 30px #4b0082;
    background: transparent;
    border: 2px double #f0f;
    padding: 15px 40px;
    border-radius: 50px; /* –û–≤–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å */
    box-shadow: inset 0 0 20px rgba(255, 0, 255, 0.2), 0 0 20px rgba(255, 0, 255, 0.2);
    animation: holoPulse 3s infinite alternate;
}

@keyframes holoPulse {
    from { opacity: 0.8; transform: scale(1); }
    to { opacity: 1; transform: scale(1.02); }
}
</style>
<audio id="bg-music" loop></audio>
</head>
<body>


<img id="kookoo-bg" class="kookoo-bg" src="kookoo_background.gif" alt="background">

<header>
  <div class="brand">NY Timer</div>
  <div style="display:flex;gap:12px;align-items:center">
    <div class="music-player" onclick="toggleMusic()" title="–ú—É–∑—ã–∫–∞">
      <span class="music-icon">üéµ</span>
      <span class="music-text">–ú—É–∑—ã–∫–∞</span>
    </div>
    <div class="burger" onclick="toggleMenu()">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

<div class="menu" id="menu">
  <h2>–°–∫–∏–Ω—ã</h2>
  <button onclick="setSkin('default')">üéÑ Default</button>
  <button onclick="setSkin('kookoo')">‚è∞ Grace ‚Äî KooKoo</button>
  <button onclick="setSkin('neon')">‚ö° Neon Glow</button>
  <button onclick="setSkin('pixel')">üéÆ Pixel Art Snow</button>
  <button onclick="setSkin('starfield')">‚≠ê Starfield</button>
  <button onclick="setSkin('galaxy')">üåå Galaxy Clock</button>
  <button onclick="setSkin('sorrow')">üåßÔ∏è Sorrow</button>
  <button onclick="setSkin('fire')">üî• Firestorm</button>
  <button onclick="setSkin('minecraft')">‚õèÔ∏è Minecraft</button>
  <button onclick="setSkin('demonslayer')">‚öîÔ∏è Demon Slayer</button>
</div>

<main>
  <div id="timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <div class="calendar" id="calendar">

  </div>
</main>

<footer id="footer-text">‚Ä¶—Å–∫–æ—Ä–æ</footer>

<script>

  function toggleMenu(){ document.getElementById('menu').classList.toggle('open'); }

// –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
const musicTracks = {
  default: 'default.mp3',
  kookoo: 'kookoo.mp3',
  minecraft: 'minecraft.mp3',
  demonslayer: 'demonslayer.mp3',
  neon: 'neon.mp3',
  pixel: 'pixel.mp3',
  starfield: 'starfield.mp3',
  galaxy: 'galaxy.mp3',
  sorrow: 'sorrow.mp3',
  fire: 'fire.mp3'
};

const trackNames = {
  default: 'Christmas bells',
  kookoo: 'Beyond the surface - Sebastian "vey" Fennec',
  minecraft: 'C418 ‚Äî Sweden',
  demonslayer: 'Kamado tanjiro no uta lofi - luvbyrd',
  neon: 'M.O.O.N - Dust',
  pixel: 'Toby fox - Snowdin town',
  starfield: 'Stargazing With Anomalous Intent [Buak OST Lo-Fi Remixes]',
  galaxy: 'Interstellar - S.T.A.Y',
  sorrow: 'Silent Hill 2 - Promise',
  fire: 'A Fire In Your Mind - Kenneth M C Young'
};

let currentSkin = 'default';
let isMusicPlaying = false;
const audio = document.getElementById('bg-music');

function toggleMusic() {
    const player = document.querySelector('.music-player');
    
    if (isMusicPlaying) {
        audio.pause();
        player.classList.remove('playing');
        isMusicPlaying = false;
        // –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –æ–∫–æ—à–∫–æ —Å—Ä–∞–∑—É:
        document.getElementById('music-notice').classList.remove('active');
    } else {
        isMusicPlaying = true;
        player.classList.add('playing');
        playMusicForSkin(currentSkin); 
        
        // –í–û–¢ –≠–¢–ê –°–¢–†–û–ß–ö–ê: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
        showMusicNotice(currentSkin);
    }
}

function playMusicForSkin(skin) {
    if (musicTracks[skin]) {
        const newSrc = musicTracks[skin];
        const currentSrc = audio.getAttribute('src');
        
        if (currentSrc !== newSrc) {
            audio.src = newSrc;
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–æ–≤—Ç–æ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω–µ —Ç—Ä–µ–∫–∞
            audio.loop = true; 
            audio.load();
            
            if (isMusicPlaying) {
                showMusicNotice(skin);
            }
        }

        if (isMusicPlaying) {
            audio.play().catch(err => {
                console.error('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', err);
                document.querySelector('.music-player').classList.remove('playing');
                isMusicPlaying = false;
            });
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ–∫–æ—à–∫–∞
function showMusicNotice(skin) {
    const notice = document.getElementById('music-notice');
    const title = document.getElementById('track-name');
    
    // –°—Ç–∞–≤–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –Ω–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞
    title.textContent = trackNames[skin] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç—Ä–µ–∫';
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–∫–æ—à–∫–æ
    notice.classList.add('active');
    
    // –ü—Ä—è—á–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        notice.classList.remove('active');
    }, 5000);
}
  function computeTarget(){
    const now = new Date();
    const nextYear = now.getFullYear() + 1;
    return new Date(`January 1, ${nextYear} 00:00:00`);
  }
  function updateTimer(){
    const now = new Date();
    const diff = computeTarget() - now;
    if(diff <= 0){ document.getElementById('timer').textContent = '–° –ù–æ–≤—ã–º –ì–æ–¥–æ–º! üéâ'; return; }
    const d = Math.floor(diff / (1000*60*60*24));
    const h = String(Math.floor((diff / (1000*60*60)) % 24)).padStart(2,'0');
    const m = String(Math.floor((diff / (1000*60)) % 60)).padStart(2,'0');
    const s = String(Math.floor((diff / 1000) % 60)).padStart(2,'0');
    document.getElementById('timer').textContent = `${d}–¥ ${h}—á ${m}–º ${s}—Å`;
  }
  setInterval(updateTimer,1000); updateTimer();


  const calendarEl = document.getElementById('calendar');
  const openedDays = JSON.parse(localStorage.getItem('openedDays') || '[]');
  
  for(let i=1;i<=31;i++){
    const d = document.createElement('div');
    d.className='day';
    d.textContent = i;
    d.dataset.day = i;
    
    if(openedDays.includes(i)){
      d.classList.add('opened');
    }
    
    const today = new Date();
    const currentDay = today.getDate();
    const currentMonth = today.getMonth();
    
    if(currentMonth === 11 && i <= currentDay){
      d.onclick = ()=> openDay(i);
    } else {
      d.classList.add('locked');
    }
    
    calendarEl.appendChild(d);
  }
  
  function openDay(n){
    const dayEl = document.querySelector(`.day[data-day="${n}"]`);
    if(!dayEl || dayEl.classList.contains('locked')) return;
    
    const openedDays = JSON.parse(localStorage.getItem('openedDays') || '[]');
    if(!openedDays.includes(n)){
      openedDays.push(n);
      localStorage.setItem('openedDays', JSON.stringify(openedDays));
      dayEl.classList.add('opened');
    }
    
    const messages = {
      1: "–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å –∑–∏–º—ã –∞? –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?",
      2: "–£–∂–µ –≤—Ç–æ—Ä–æ–π....–µ–ª–∫—É –±—É–¥–µ—à—å —Å—Ç–∞–≤–∏—Ç—å?",
      3: "–¢—Ä–µ—Ç–∏–π –¥–µ–Ω—å...–ø–æ–∑–≤–æ–Ω–∏ –±–∞–±—É—à–∫–µ, –∏–ª–∏ –æ–±–Ω–∏–º–∏ –º–∞–º—É —Å –ø–∞–ø–æ–π, —è —É–≤–µ—Ä–µ–Ω –æ–Ω–∏ –±—É–¥—É—Ç —Ä–∞–¥—ã)",
      4: "–ß–µ—Ç–≤–µ—Ä—Ç—ã–π –¥–µ–Ω—å...—Ç—ã –º–æ–ª–æ–¥–µ—Ü, —Ç–≤–æ–∏ –ø–æ—Å—É–ø–∫–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º–∏!",
      5: "–£—Ä–∞ —Ñ–∏–ª—å–º –ø–æ –≤—Ç–æ—Ä–æ–º—É –§–Ω–∞—Ñ—É! :D",
      6: "–°–µ–≥–æ–¥–Ω—è –Ω–∞ —Ñ–∏–ª—å–º –ø–æ –§–Ω–∞—Ñ—É 2 –ø–æ–π–¥–µ—Ç–µ?",
      7: "–ê —Å–µ–≥–æ–¥–Ω—è –Ω–∞ —Ñ–∏–ª—å–º –ø–æ –§–Ω–∞—Ñ—É 2 –∏–¥–µ—Ç–µ? –ù–∞–¥–æ –±—ã! –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)",
      8: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –¥–µ–Ω—å –≤—Å–µ–≥–¥–∞ —Ç—è–∂–µ–ª—ã–π, –Ω–æ —Ç—ã —Å–∏–ª—å–Ω—ã–π —Ç—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è, —è –≤ —Ç–µ–±—è –≤–µ—Ä—é!",
      9: "–Ø –ø—Ä–∞–≤–¥–∞ –≥–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π, —Ç—ã –º–æ–ª–æ–¥–µ—Ü —Å—Ç–æ–ª—å–∫–æ –≤—Å–µ–≥–æ —Å–¥–µ–ª–∞—Ç—å –≤ —ç—Ç–æ–º –≥–æ–¥—É, —è–≤–Ω–æ –ø–æ–≤–æ–¥ –¥–ª—è –≥–æ—Ä–¥–æ—Å—Ç–∏!",
      10: "–ù–µ—Ç, –ø—Ä–∞–≤–¥–∞, –∫—Ç–æ –±—ã —Ç—ã –Ω–∏ –±—ã–ª –ø–æ —Ç—É —Å—Ç–æ—Ä–æ–Ω—É —ç–∫—Ä–∞–Ω–∞, —è –æ–±–æ–∂–∞—é —Ç–µ–±—è, —Å–ø–∞—Å–∏–±–æ –∑–∞ —Ç–≤–æ–∏ –ø–æ—Å—Ç—É–ø–∫–∏ –∏ —É—á–∞—Å—Ç–∏–µ –≤ –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏ –≥—Ä—É–ø–ø—ã!",
      11: "–í–æ—Ç —É–∂–µ –∏ —á–µ—Ç–≤–µ—Ä–≥! –°–∫–æ—Ä–æ –≤—ã—Ö–æ–¥–Ω—ã–µ, —Å —Ä–µ–±—è—Ç–∞–º–∏ —Ç–æ –ø–æ–π–¥–µ—à—å –≥—É–ª—è—Ç—å? –ù–∞–¥–æ –±—ã –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –≥–æ–¥–æ–º!",
      12: "–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –≤—Ç–æ—Ä–æ–π –Ω–µ–¥–µ–ª–∏! –ú–æ–ª–æ–¥–µ—Ü —á—Ç–æ –¥–æ—à–µ–ª –∏ –Ω–µ —Å–¥–∞–ª—Å—è, —É–º–Ω–∏—á–∫–∞! :3",
      13: "–í—ã—Ö–æ–¥–Ω—ã–µ —É–∂–µ –∑–¥–µ—Å—å, –∏ –ø–æ–ª–æ–≤–∏–Ω–∞ –¥–µ–∫–∞–±—Ä—è —É–∂–µ –∫–∞–∫ –∏ –Ω–µ –±—ã–≤–∞–ª–æ, –∂–µ–ª–∞—é —É–¥–∞—á–∏!",
      14: "–ï–ª–∫—É –ø–æ—Å—Ç–∞–≤–∏–ª? –ê –≥–∏—Ä–ª—è–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç? –ê —Ä–µ–±—è—Ç–∞–º –ø–æ–¥–∞—Ä–∫–∏ —Å–¥–µ–ª–∞–ª? –ê–π –º–æ–ª–æ–¥—Ü–∞!",
      15: "–°–µ—Å—Å–∏—è —É —Ç–µ–±—è –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —É–∂–µ –∏–¥–µ—Ç? –î–µ—Ä–∂–∏—Å—å, –∫–∞–∫ –±—ã –Ω–∏ –±—ã–ª–æ —Ç—è–∂–µ–ª–æ –ø–æ–¥–Ω–∏–º–∏ –≥–æ–ª–æ–≤—É –≤–≤–µ—Ä—Ö –∏ –∏–¥–∏ –≤–ø–µ—Ä–µ–¥, –≥–æ—Ä–¥–æ!",
      16: "–ù—É —á—Ç–æ, –≤—Ç–æ—Ä–∞—è –Ω–µ–¥–µ–ª—è –ø–æ–∑–∞–¥–∏, –µ—â–µ 2 –≤–ø–µ—Ä–µ–¥–∏! ",
      17: "–Ø –ª—é–±–ª—é —Ç–µ–±—è, –∏ –Ω–∏—á–µ–≥–æ —ç—Ç–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç, —Å–ø–∞—Å–∏–±–æ –∑–∞ —Ç–≤–æ–π –≤–∫–ª–∞–¥ –≤ –≥—Ä—É–ø–ø—É...",
      18: "–ü–æ–ª –Ω–µ–¥–µ–ª–∏ —É–∂–µ –ø—Ä–æ—à–ª–æ, –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ –æ—Å—Ç–∞–ª–æ—Å—å, –≤–ø–µ—Ä–µ–¥!",
      19: "–í–æ—Ç –∏ –æ—á–µ—Ä–µ–¥–Ω–∞—è –ø—è—Ç–Ω–∏—Ü–∞! –ó–∞–≤—Ç—Ä–∞ —É–∂–µ –≤—ã—Ö–æ–¥–Ω—ã–µ, –æ—Ç–¥—ã—Ö–∞–π –∏ –Ω–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ –º–µ–Ω—è :)",
      20: "–°—É–±–±–æ—Ç–∞, –∫–∞–∫ –Ω–∞—Å—á–µ—Ç –ø–æ–≥—É–ª—è—Ç—å —Å —Ä–µ–±—è—Ç–∞–º–∏? –ò–ª–∏ –º–æ–∂–µ—Ç –µ—â–µ —á—Ç–æ –≤—ã–¥—É–º–∞—Ç—å...",
      21: "–Ø –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–ª –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –∫–∞–∫ —Å–∞–º—ã–π –ª–µ–Ω–∏–≤—ã–π –¥–µ–Ω—å, –Ω–æ –µ—Å–ª–∏ –Ω–µ –ª–µ–Ω—å –≥—É–ª—è–π –∏ –∏–≥—Ä–∞–π —Å —Ä–µ–±—è—Ç–∞–º–∏, —è —É–≤–µ—Ä–µ–Ω –æ–Ω–∏ —Ö–æ—Ç—è—Ç —Ç–µ–±—è –≤–∏–¥–µ—Ç—å!",
      22: "–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è, –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä—ã–≤–æ–∫, –Ω–∏ —à–∞–≥—É –Ω–∞–∑–∞–¥, —Ç–æ–ª—å–∫–æ –≤–ø–µ—Ä–µ–¥, —è –≤ —Ç–µ–±—è –≤–µ—Ä—é! –° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –•—ë–∫–∞!",
      23: "–û–±–Ω–∏–º–∏ —Å–≤–æ–∏—Ö –ª—é–±–∏–º—ã—Ö –ª—é–¥–µ–π, –ø–∏—Ç–æ–º—Ü–µ–≤, —Å–∫–∞–∂–∏ –∫–∞–∫ –æ–Ω–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Ç–µ–±—è, –∫–∞–∂–¥—ã–π –±—ã–ª –±—ã —Ä–∞–¥ —ç—Ç–æ —É—Å–ª—ã—à–∞—Ç—å!",
      24: "–¢—ã —Å–º–æ—Ç—Ä–∏, –≤–æ—Ç –∏ –ø–æ–ª–æ–≤–∏–Ω–∞ –Ω–µ–¥–µ–ª–∏ –ø—Ä–æ—à–ª–æ, –¥–∞? –í—Ä–µ–º—è –ª–µ—Ç–∏—Ç...",
      25: "–ß—Ç–æ –±—ã–ª–æ –ø–µ—Ä–≤–æ–µ, –∫—É—Ä–∏—Ü–∞ –∏–ª–∏ —è–π—Ü–æ? –î–∞ —Ö–æ—Ç—è –∫–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞, –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ —Ç—ã —É–º–Ω–∏—á–∫–∞ –∏ –ø–æ—á—Ç–∏ —Å–ø—Ä–∞–≤–∏–ª—Å—è!",
      26: "–í–æ—Ç –æ–Ω, –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å —Ä–∞–±–æ—á–µ–π –Ω–µ–¥–µ–ª–∏ (—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–∞–¥–µ—é—Å—å —á—Ç–æ —É —Ç–µ–±—è —Ç–∞–∫!) –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ –¥–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–∞, —Ç—ã –º–æ–ª–æ–¥–µ—Ü!",
      27: "–í–æ—Ç –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—É–±–±–æ—Ç–∞ –≤ —ç—Ç–æ–º –≥–æ–¥—É, –≥—É–ª—è—Ç—å –±—É–¥–µ—à—å? –ò–ª–∏ –º–æ–∂–µ—Ç –≤ –¥–∏—Å–∫–æ—Ä–¥–µ —Å–æ–±–µ—Ä–µ—Ç–µ—Å—å?",
      28: "–ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, –Ω–∞–ø–æ–º–Ω–∏ —Å–≤–æ–∏–º —Ä–æ–¥–Ω—ã–º –∏ –±–ª–∏–∑–∫–∏–º —á—Ç–æ –æ–Ω–∏ –Ω–µ –ø—É—Å—Ç–æ–π –∑–≤—É–∫ –≤ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏, —É–≤–µ—Ä–µ–Ω –∏–º –Ω–∞–¥–æ —ç—Ç–æ —É—Å–ª—ã—à–∞—Ç—å!",
      29: "–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ —ç—Ç–æ–º –≥–æ–¥—É.....–≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ –¥–∞? –ö–∞–∫ –æ—â—É—â–µ–Ω–∏—è? –£ –º–µ–Ω—è –≤—Å–µ–≥–¥–∞ –≤–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Ö–∏—â–µ–Ω–∏–µ...",
      30: "–í–æ—Ç –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –≥–æ–¥–æ–º, –ø–æ—Ä–∞ –≥–æ—Ç–æ–≤–∏—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å –≤—Å–µ, –ø–æ–¥–∞—Ä–∫–∏, –µ–ª–∫—É, –º–∏—à—É—Ä—É, –≥–∏—Ä–ª—è–Ω–¥—ã –∏ –∫–æ–Ω–µ—á–Ω–æ —Å–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ!",
      31: "–í–æ—Ç –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å, –Ω—É —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å, —Å–ø–∞—Å–∏–±–æ —á—Ç–æ –±—ã–ª —Å–æ –º–Ω–æ–π –≤ —ç—Ç–æ–º –≥–æ–¥—É, —Å–ø–∞—Å–∏–±–æ —á—Ç–æ –ø–æ—Å–µ—â–∞–µ—à—å —ç—Ç–æ—Ç —Å–∞–π—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å—Å—è —Å—é–¥–∞ –∏–∑ —Ä–∞–∑–∞ –≤ —Ä–∞–∑, —è —Ç–µ–±—è –ª—é–±–ª—é, —Å –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º –Ω–æ–≤—ã–º –≥–æ–¥–æ–º!"
};
    
    const message = messages[n] || `–î–µ–Ω—å ${n} ‚Äî —Å–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ! üéÖ`;
    alert(message);
  }

  // Footer phrases
  const phrases = [
    "–¢—ã –ø–æ—á—Ç–∏ –¥–æ–∂–∏–ª –¥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞!",
    "–ü–æ—Ä–∞ –≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏...",
    "2026 —É–∂–µ –Ω–∞ –ø–æ–¥—Ö–æ–¥–µ!",
    "–í—Ä–µ–º—è –∏–¥—ë—Ç. –°–Ω–µ–≥ –∏–¥—ë—Ç. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –£ –ö–æ—Å—Ç–∏ –µ—Å—Ç—å –±–æ–ª–µ–µ 30 –∫–æ—Å–ø–ª–µ–µ–≤!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ö–∏—Ä–∏–ª–ª –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –≤—Å—Ç—É–ø–∏–ª –≤ –≥—Ä—É–ø–ø—É 29 –ò—é–Ω—è 2025 –≥–æ–¥–∞!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –£ –ê–ª–∞–Ω–∞ –±–æ–ª—å—à–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ –¢–ì–ö! –ê —Å—Ç–æ–ø –∏–ª–∏ —É –ö–æ—Å—Ç–∏?....",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ê—è–Ω–∞ –ø–µ—Ä–≤–∞—è –∫—Ç–æ —Å–¥–µ–ª–∞–ª–∞ –∞—Ä—Ç—ã –ø–æ –Ω–∞—à–∏–º –≥—É–ª—è–Ω–∏—è–º, –∏ –ø–µ—Ä–≤–∞—è –∫—Ç–æ –Ω–∞—á–∞–ª –¥–µ–ª–∞—Ç—å –∞—É—à–∫–∏!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –í –≥—Ä—É–ø–ø–µ –±—ã–ª–æ –∑–∞–ø–æ—Å—á–µ–Ω–æ —É–∂–µ –±–æ–ª–µ–µ 2500 –∫–∞—Ä—Ç–∏–Ω–æ–∫...–ø–æ—Ä–∞ —á–∏—Å—Ç–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω...",
    "–ö–∞–∫ –Ω–∞—Å—á–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ —Ñ–æ–Ω –º—É–∑—ã–∫–∏? https://www.youtube.com/watch?v=LYHAEnZx9YI",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –Ø –≤–∞—Å –ª—é–±–ª—é –±–æ–ª—å—à–µ –≤—Å–µ—Ö, –∏ –Ω–∏—á–µ–≥–æ —ç—Ç–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –£ –Ω–∞—Å –µ—Å—Ç—å –≥—Ä—É–ø–ø–∞ –≤ –î–∏—Å–∫–æ—Ä–¥–µ! –ü–æ—á–µ–º—É –≤—ã –µ—â–µ –Ω–µ —Ç–∞–º?)",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –•–µ–∫–∞ –Ω–µ –æ—á–µ–Ω—å –ª—é–±–∏—Ç –∫–æ—Å–ø–ª–µ–π –Ω–∞ –ú–∏—Ç—Å—É—Ä–∏, –æ–Ω–∞ –±—ã —Å —Ä–∞–¥–æ—Å—Ç—å—é –∑–∞–∫–æ—Å–ø–ª–µ–∏–ª–∞ –¥—Ä—É–≥–∏–µ –Ω–æ –¥–µ–Ω—å–≥–∏ –Ω–µ —Ä–µ–∑–∏–Ω–æ–≤—ã–µ...",
    "–ò–ª—å—è—Å, –Ω–µ –∑–∞–±—É–¥—å, –Ω–∞–¥–æ –∑–∞ —ç—Ç–æ –≤—ã–ø–∏—Ç—å!",
    "–ü–æ—á–µ–º—É —Å–ª–µ–ø–æ–π –º–∞–ª—å—á–∏–∫ —É—Ä–æ–Ω–∏–ª –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ? –ü–æ—Ç–æ–º—É —á—Ç–æ –µ–≥–æ —Å–±–∏–ª–∞ —Ñ—É—Ä–∞!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ê—è–Ω–∞ –¥—Ä–µ–≤–Ω–µ –∫–∞–∑–∞—Ö—Å–∫–∞—è –±–æ–≥–∏–Ω—è –∑–∏–º—ã –∏ —Ö–æ–ª–æ–¥–∞! –ò —ç—Ç–æ –¥–∞–∂–µ –Ω–µ —è –Ω–∞–ø–∏—Å–∞–ª, –∞ –∏–∏ —Å–∞–º –≤—Å—Ç–∞–≤–∏–ª!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ê—è–Ω–∞ –¥—Ä–µ–≤–Ω–µ –∫–∞–∑–∞—Ö—Å–∫–∞—è –∏—Ç–∞–ª—å—è–Ω–∫–∞",
    "–ê—è–Ω–∞ –Ω–∞–ø–∏—Å–∞–ª–∞ 4 –∞—É—à–∫–∏ –ø–æ –Ω–∞–º: –ó–ê–ë–´–¢–´–ô –û–°–û–ë–ù–Ø–ö –ë–ê–õ–¨–ú–°–¢–ï–†, –∏ –•–†–û–ù–ò–ö–ò –ü–ê–î–®–ò–•, –ú–∞—Ñ–∏—è –ê–£,–°–æ–≤–º–µ—Å—Ç–Ω–∞—è –∂–∏–∑–Ω—å –ê–£,–Ω—É –∏ —Ç–∞–∫–∂–µ –µ—â–µ –±–µ—Å—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∏—Å—É–Ω–æ—á–∫–æ–≤!",
    "–ö–∞–∫ —Ç–æ –Ω–∞ —É–ª–∏—Ü–µ —è —É–≤–∏–¥–µ–ª 2 –ø–∞—Ä–Ω–µ–π –≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –æ–¥–µ–∂–¥–µ, –ø–æ–¥–æ—à–µ–ª –∏ —Å–ø—Ä–æ—Å–∏–ª –Ω–µ –≥–µ–∏ –ª–∏ –æ–Ω–∏, –æ–Ω–∏ –º–µ–Ω—è –∞—Ä–µ—Å—Ç–æ–≤–∞–ª–∏...",
    "–ö–æ–≥–¥–∞ –Ω–∏–±—É–¥—å –º—ã —ç—Ç–æ –ø–æ–≤—Ç–æ—Ä–∏–º....https://vm.tiktok.com/ZMSXp6pok/",
    "'–ó–∞—Ç–æ —è –ø–µ—Ç—É—Ö...'",
    "–Æ–∫–∏, –∏–¥–∏ –∫—É—à–∞–π, –∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –£ –Ω–∞—Å –≤ –≥—Ä—É–ø–ø–µ –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞! –í—ã –æ–± —ç—Ç–æ–º –Ω–µ –∑–Ω–∞–ª–∏? –Ø —Ç–æ–∂–µ!"
    
  ];
  function updatePhrase(){ document.getElementById('footer-text').textContent = phrases[Math.floor(Math.random()*phrases.length)]; }
  setInterval(updatePhrase,15000); updatePhrase();


  let fxInterval = null;
  let fxInterval2 = null;
  
function clearFX(){
  console.log('clearFX');
  
  // 1. –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –≤—Å–ø—ã—à–∫–∏, –≥–∏—Ä–ª—è–Ω–¥—ã –∏ –æ–±–µ—Ä—Ç–∫–∏
  document.querySelectorAll('.fx, .lightning-flash, .neon-overlay, .garland, .nebula').forEach(n=>n.remove());
  
  // 2. –ò—â–µ–º –∏ –ü–û–õ–ù–û–°–¢–¨–Æ —É–¥–∞–ª—è–µ–º –±–ª–æ–∫ KooKoo, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
  const kookooWrap = document.getElementById('kookoo-wrapper');
  if(kookooWrap) kookooWrap.remove();

  // 3. –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å —Ñ–æ–Ω–æ–≤–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ KooKoo (–µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å)
  const kookooBg = document.getElementById('kookoo-bg');
  if(kookooBg) kookooBg.classList.remove('active');

  // 4. –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∞–Ω–∏–º–∞—Ü–∏–π
  if(fxInterval){ clearInterval(fxInterval); fxInterval = null; }
  if(fxInterval2){ clearInterval(fxInterval2); fxInterval2 = null; }

  // 5. –£–¥–∞–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –ù–µ–æ–Ω–∞ –∏ –ì–∞–ª–∞–∫—Ç–∏–∫–∏
  document.querySelectorAll('.galaxy-vortex, .neon-circles').forEach(el => el.remove());

  // 6. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–π–º–µ—Ä –≤ –æ–±—ã—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  const timer = document.getElementById('timer');
  timer.style.display = ''; // –î–µ–ª–∞–µ–º –µ–≥–æ –≤–∏–¥–∏–º—ã–º
  timer.classList.remove('pixel-active');
}


  function spawnFX(type){
    const interval = setInterval(()=>{
      const el = document.createElement('div');
      
      if(type==='snow'){
        el.className = 'fx snow';
        el.textContent = '‚ùÑ';
        el.style.fontSize = (12 + Math.random()*14)+'px';
      } 
      else if(type==='rain'){
        el.className = 'fx rain';
        el.textContent = '‚îÇ';
        el.style.fontSize = (20 + Math.random()*12)+'px';
        el.style.animation = `rainFall ${1.5 + Math.random()*1.5}s linear forwards`;
      } 
      else if(type==='ash'){
        el.className = 'fx ash';
        el.textContent = '‚Ä¢';
        el.style.fontSize = (10 + Math.random()*10)+'px';
      }
      else if(type==='fire-ember'){
        el.className = 'fx fire-ember';
        el.textContent = ['üî•','‚ú¶','‚Ä¢'][Math.floor(Math.random()*3)];
        el.style.fontSize = (14 + Math.random()*12)+'px';
        el.style.bottom = '-20px';
        el.style.top = 'auto';
        el.style.animation = `emberRise ${2 + Math.random()*2}s ease-out forwards`;
      }
      else if(type==='star'){
        el.className = 'fx star';
        el.textContent = '‚ú¶';
        el.style.fontSize = (10 + Math.random()*8)+'px';
        el.style.animation = `starTwinkle ${2 + Math.random()*3}s ease-in-out infinite`;
      }
      else if(type==='pixel'){
        el.className = 'fx pixel';
        el.textContent = ['‚ñà','‚ñì','‚ñí','‚ñë'][Math.floor(Math.random()*4)];
        el.style.animation = `pixelDrift ${3 + Math.random()*2}s linear forwards`;
      }
      else if(type==='planet'){
        el.className = 'fx planet';
        const colors = ['#ff6b6b','#4ecdc4','#45b7d1','#f7b731','#5f27cd'];
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.width = (20 + Math.random()*40)+'px';
        el.style.height = el.style.width;
        el.style.top = (Math.random()*100)+'vh';
        el.style.animation = `planetMove ${15 + Math.random()*10}s linear forwards`;
      }
      else if(type==='galaxy'){
        el.className = 'fx galaxy-particle';
        el.style.top = (Math.random()*100)+'vh';
        const dur = (5 + Math.random()*10);
        el.style.animation = `galaxyFloat ${dur}s ease-in-out infinite, fxFall ${dur*2}s linear forwards`;
      }
      else if(type==='neon-line'){
        el.className = 'fx neon-line';
        const colors = ['#0ff', '#f0f', '#ff0', '#0f0'];
        el.style.background = `linear-gradient(90deg, transparent, ${colors[Math.floor(Math.random()*colors.length)]}, transparent)`;
        el.style.top = (Math.random()*100)+'vh';
        el.style.animation = `neonLineSweep ${2 + Math.random()*2}s linear forwards`;
      }
      else if(type==='minecraft-block'){
  el.className = 'fx minecraft-block';
  el.textContent = ['üü´','üü©','‚¨õ','üü¶'][Math.floor(Math.random()*4)];
  el.style.fontSize = (20 + Math.random()*16)+'px';
}
else if(type==='sakura'){
  el.className = 'fx sakura';
  el.textContent = 'üå∏';
  el.style.fontSize = (14 + Math.random()*10)+'px';
  el.style.animation = `sakuraFloat ${4 + Math.random()*3}s ease-out forwards`;
}

      const left = Math.random()*100;
      el.style.left = left + 'vw';
      
      if(!el.style.top && type !== 'fire-ember') {
        el.style.top = (-5 - Math.random()*10) + 'vh';
      }
      
      if(!el.style.animation.includes('Twinkle') && !el.style.animation.includes('planet') && type !== 'galaxy' && !el.style.animation.includes('Sweep') && type !== 'rain' && type !== 'fire-ember'){
        const dur = (2 + Math.random()*3);
        el.style.animation = `fxFall ${dur}s linear forwards`;
      }
      
      document.body.appendChild(el);

      const cleanupTime = type === 'planet' ? 30000 : 8000;
      setTimeout(()=> { if(el.parentNode) el.remove(); }, cleanupTime);
    }, type === 'planet' ? 2000 : type === 'neon-line' ? 400 : 120);
    
    if(!fxInterval) fxInterval = interval;
    else fxInterval2 = interval;
  }

 function applyDefault(){
  clearFX();
  const timer = document.getElementById('timer');
  timer.style.display = ''; timer.className = '';
  document.body.style.background = 'var(--bg)';
  spawnFX('snow');
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≥–∏—Ä–ª—è–Ω–¥—É
  const g = document.createElement('div'); g.className = 'garland';
  const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff'];
  for(let i=0; i<30; i++) {
    const l = document.createElement('div'); l.className = 'light';
    l.style.background = colors[i % colors.length];
    l.style.animationDelay = (Math.random()) + 's';
    g.appendChild(l);
  }
  document.body.appendChild(g);
}

  function applySorrow(){
  clearFX();
  const timer = document.getElementById('timer');
  timer.style.display = ''; timer.className = 'sorrow';
  document.body.style.background = '#0a1a33';
  spawnFX('rain');
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–ø—ã—à–∫–∏ –º–æ–ª–Ω–∏–∏
  const flash = document.createElement('div');
  flash.className = 'lightning-flash active-lightning';
  document.body.appendChild(flash);
}

  function applyFire(){
    console.log('applyFire');
    clearFX();
    const timer = document.getElementById('timer');
    timer.style.display = '';
    timer.className = 'fire';
    const wrap = document.getElementById('kookoo-wrapper');
    if(wrap) wrap.style.display='none';
    document.body.style.background = 'linear-gradient(to bottom, #1a0a00, #331a0f, #1a0500)';
    spawnFX('fire-ember');
    spawnFX('ash');
  }

  function applyNeon(){
  clearFX();
  const timer = document.getElementById('timer');
  timer.style.display = ''; timer.className = 'neon';
  document.body.style.background = '#0a0a1a';
  
  // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–æ—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∞
  const overlay = document.createElement('div');
  overlay.className = 'neon-overlay';
  document.body.appendChild(overlay);

  const container = document.createElement('div');
  container.className = 'neon-circles';
  for(let i=0; i<5; i++){
    const circle = document.createElement('div');
    circle.className = 'fx neon-circle';
    const size = 200 + (i * 100);
    circle.style.width = size + 'px'; circle.style.height = size + 'px';
    circle.style.top = '35%'; circle.style.left = '50%';
    circle.style.transform = 'translate(-50%, -50%)';
    const colors = ['#0ff', '#f0f', '#ff0', '#0f0', '#f00'];
    circle.style.borderColor = colors[i];
    circle.style.animation = `neonPulse ${3 + i*0.5}s ease-in-out infinite`;
    container.appendChild(circle);
  }
  document.body.appendChild(container);
  spawnFX('neon-line');
}
  
  function applyPixel(){
  clearFX();
  const timer = document.getElementById('timer');
  timer.style.display = ''; timer.className = 'pixel pixel-active';
  document.body.style.background = '#000';
  spawnFX('pixel');
}
  
  function applyStarfield() {
    clearFX();
 timer.style.display = ''; 
    timer.className = 'starfield-style';
    document.body.style.background = '#000005';

    // 1. –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—å
    const nebula = document.createElement('div');
    nebula.className = 'starfield-nebula fx';
    document.body.appendChild(nebula);

    // 2. –°–æ–∑–¥–∞–µ–º –ø–ª–∞–Ω–µ—Ç—ã (2-3 —à—Ç—É–∫–∏ —Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ü–≤–µ—Ç–∞)
    const planets = [
        { size: 100, color: '#1a3c5a', top: '15%', left: '10%' },
        { size: 250, color: '#2d1b4e', top: '60%', left: '75%' }
    ];
    
    planets.forEach(p => {
        const planet = document.createElement('div');
        planet.className = 'space-planet fx';
        planet.style.width = p.size + 'px';
        planet.style.height = p.size + 'px';
        planet.style.background = p.color;
        planet.style.top = p.top;
        planet.style.left = p.left;
        document.body.appendChild(planet);
    });

    // 3. –≠—Ñ—Ñ–µ–∫—Ç –≥–∏–ø–µ—Ä–ø—Ä—ã–∂–∫–∞ (–∑–≤–µ–∑–¥—ã-–ª–∏–Ω–∏–∏ –≤—ã–ª–µ—Ç–∞—é—Ç –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)
    for(let i=0; i<30; i++) {
        const line = document.createElement('div');
        line.className = 'star-line fx';
        line.style.left = Math.random() * 100 + 'vw';
        line.style.top = Math.random() * 100 + 'vh';
        const length = 50 + Math.random() * 150;
        line.style.height = length + 'px';
        document.body.appendChild(line);

        line.animate([
            { transform: 'translateY(-200vh)', opacity: 0 },
            { transform: 'translateY(0)', opacity: 1, height: length + 'px' },
            { transform: 'translateY(200vh)', opacity: 0, height: '2px' }
        ], { duration: 1000 + Math.random() * 1000, easing: 'ease-in' }).onfinish = () => line.remove();
    }

    // 4. –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø—ã–ª—å (–º–µ—Ä—Ü–∞–Ω–∏–µ)
    spawnFX('star'); // –¢–≤–æ–∏ –æ–±—ã—á–Ω—ã–µ –∑–≤–µ–∑–¥—ã

    // 5. –ú–µ–¥–ª–µ–Ω–Ω–æ –ª–µ—Ç—è—â–∞—è –∑–≤–µ–∑–¥–Ω–∞—è –ø—ã–ª—å
    fxInterval = setInterval(() => {
        const dust = document.createElement('div');
        dust.className = 'stardust fx';
        const size = Math.random() * 3 + 'px';
        dust.style.width = size; dust.style.height = size;
        dust.style.left = Math.random() * 100 + 'vw';
        dust.style.top = Math.random() * 100 + 'vh';
        dust.style.background = `rgba(255, 255, 255, ${Math.random()})`;
        document.body.appendChild(dust);
        
        dust.animate([
            { transform: 'scale(0) rotate(0deg)', opacity: 0 },
            { transform: 'scale(1.5) rotate(180deg)', opacity: 0.7, offset: 0.5 },
            { transform: 'scale(0) rotate(360deg)', opacity: 0 }
        ], { duration: 4000 + Math.random() * 4000 }).onfinish = () => dust.remove();
    }, 200);

    // 6. –ö–æ–º–µ—Ç—ã (—Ä–µ–∂–µ, –Ω–æ –∫—Ä–∞—Å–∏–≤–µ–µ)
    fxInterval2 = setInterval(() => {
        const comet = document.createElement('div');
        comet.className = 'comet fx';
        comet.style.top = Math.random() * 80 + 'vh';
        comet.style.left = '-200px';
        comet.style.transform = 'rotate(10deg)';
        comet.style.width = '200px';
        document.body.appendChild(comet);
        comet.animate([
            { left: '-200px', opacity: 0 },
            { left: '20vw', opacity: 1, offset: 0.2 },
            { left: '110vw', opacity: 0 }
        ], 1500).onfinish = () => comet.remove();
    }, 5000);
}
  
  function applyGalaxy(){
  clearFX();
  const timer = document.getElementById('timer');
    timer.style.display = ''; 
    timer.className = 'galaxy-style';
  document.body.style.background = '#0a0015';
  
  // –î–æ–±–∞–≤–ª—è–µ–º —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Ñ–æ–Ω
  const n = document.createElement('div'); n.className = 'nebula';
  document.body.appendChild(n);

  const vortex = document.createElement('div');
  vortex.className = 'galaxy-vortex';
  document.body.appendChild(vortex);
  spawnFX('galaxy');
}

function applyMinecraft() {
    clearFX();
    const timer = document.getElementById('timer');
    timer.style.display = ''; 
    timer.className = 'mc-style'; 

    // –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ñ–æ–Ω
    const wrap = document.createElement('div');
    wrap.className = 'minecraft-wrap fx';
    document.body.appendChild(wrap);

    // –ö—Ä–∏–ø–µ—Ä
    const creeper = document.createElement('div');
    creeper.className = 'creeper-silhouette fx';
    document.body.appendChild(creeper);

    const blockTypes = ['block-dirt', 'block-grass', 'block-stone', 'block-diamond'];
    
    fxInterval = setInterval(() => {
        const block = document.createElement('div');
        const type = blockTypes[Math.floor(Math.random() * blockTypes.length)];
        block.className = `mc-block-particle fx ${type}`;
        block.style.left = Math.random() * 95 + 'vw';
        block.style.top = '-40px';
        document.body.appendChild(block);

        const duration = 3000 + Math.random() * 2000;
        block.animate([
            { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
            { transform: `translateY(110vh) rotate(${Math.random() * 360}deg)`, opacity: 0 }
        ], { duration: duration, easing: 'linear' }).onfinish = () => block.remove();
    }, 600); // –ö—É–±—ã –ø–∞–¥–∞—é—Ç —á–∞—â–µ
}

function applyDemonSlayer() {
    clearFX();
    const timer = document.getElementById('timer');
    timer.style.display = ''; timer.className = 'demon-slayer';
    document.body.style.background = '#1a0a1a';
    
    // –°–ê–ö–£–†–ê –ü–ê–î–ê–ï–¢ –ß–ê–©–ï (–∏–Ω—Ç–µ—Ä–≤–∞–ª 300–º—Å –≤–º–µ—Å—Ç–æ 4000–º—Å)
    fxInterval = setInterval(() => {
        const leaf = document.createElement('div');
        leaf.className = 'sakura fx';
        leaf.style.left = Math.random() * 100 + 'vw';
        leaf.style.top = '-20px';
        document.body.appendChild(leaf);
        
        const fallTime = 4000 + Math.random() * 4000;
        leaf.animate([
            { transform: 'translateY(0) rotate(0deg) translateX(0)', opacity: 0.8 },
            { transform: `translateY(110vh) rotate(${Math.random() * 1000}deg) translateX(${Math.random() * 100 - 50}px)`, opacity: 0 }
        ], { duration: fallTime, easing: 'linear' }).onfinish = () => leaf.remove();
    }, 300); 

    // –†–∞–∑—Ä–µ–∑—ã –º–µ—á–æ–º
    fxInterval2 = setInterval(() => {
        const slash = document.createElement('div');
        slash.className = 'sword-slash fx';
        slash.style.top = Math.random() * 100 + 'vh';
        slash.style.left = Math.random() * 30 + 'vw';
        slash.style.transform = `rotate(${(Math.random() - 0.5) * 45}deg)`;
        document.body.appendChild(slash);
        slash.animate([{ width: '0', opacity: 1 }, { width: '70vw', opacity: 0 }], 200).onfinish = () => slash.remove();
    }, 4000);
}

function setSkin(type){
  console.log('setSkin', type);
  clearFX();
  
  const timer = document.getElementById('timer');
  timer.className = '';
  
  currentSkin = type; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —Å–∫–∏–Ω
  playMusicForSkin(type); // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –º—É–∑—ã–∫—É
  
  if(type === 'kookoo') return applyKooKoo();
  if(type === 'default') return applyDefault();
  if(type === 'sorrow') return applySorrow();
  if(type === 'fire') return applyFire();
  if(type === 'neon') return applyNeon();
  if(type === 'pixel') return applyPixel();
  if(type === 'starfield') return applyStarfield();
  if(type === 'galaxy') return applyGalaxy();
  if(type === 'minecraft') return applyMinecraft();
  if(type === 'demonslayer') return applyDemonSlayer();
}

  setSkin('default');

  let kookooState = "count"; 

  function applyKooKoo() {
    console.log("applyKooKoo");

    clearFX();
    
    document.getElementById('kookoo-bg').classList.add('active');
    document.body.style.background = '#0a0520';

    const mainTimer = document.getElementById("timer");
    mainTimer.style.display = "none";

    let wrap = document.getElementById("kookoo-wrapper");

    if (!wrap) {
      wrap = document.createElement("div");
      wrap.id = "kookoo-wrapper";

      wrap.innerHTML = `
        <div class="kookoo-wrapper">
          <div class="kookoo-background-image">
            <img src="God.webp" alt="background">
          </div>
          <div class="kookoo-particles">
            <img src="Kookoo_clock_border.webp" alt="particles">
          </div>
          <div class="kookoo-circle"></div>
          <img class="kookoo-gif" id="kookoo-gif" src="Kookoo_Clock.webp" alt="kookoo">
          <div class="kookoo-timer" id="kookoo-time">--:--:--</div>
        </div>
      `;

      document.querySelector("main")
        .insertBefore(wrap, document.querySelector("main").firstChild);
    } else {
      wrap.style.display = "";
      const gif = document.getElementById("kookoo-gif");
      if(gif) gif.src = "Kookoo_Clock.webp";
    }

    kookooState = "count";
    updateKookooOverlay();
  }

  function updateKookooOverlay() {
    const t = document.getElementById("kookoo-time");
    if (!t) return;
    
    const now = new Date();
    const diff = computeTarget() - now;
    
    if(diff <= 0) {
      t.textContent = '0';
    } else {
      const totalSeconds = Math.floor(diff / 1000);
      t.textContent = totalSeconds.toLocaleString('ru-RU');
    }
    
    checkKooKooState();
  }
  setInterval(updateKookooOverlay, 500);

  function checkKooKooState() {
    const mainText = document.getElementById("timer").textContent;
    const gif = document.getElementById("kookoo-gif");

    if (!gif) return;

    if (mainText.includes("–° –ù–æ–≤—ã–º –ì–æ–¥–æ–º!")) {
      if (kookooState === "count") {
        gif.src = "Kookoo_Clock_end.webp";
        kookooState = "finish";

        setTimeout(() => {
          gif.src = "Kookoo_idle.png";
          kookooState = "idle";
        }, 2000);
      }
    } else {
      if (kookooState !== "count") {
        gif.src = "Kookoo_Clock.webp";
        kookooState = "count";
      }
    }
  }
</script>
<div id="music-notice" class="music-notice">
  <div class="disc-wrapper">
    <div class="disc">üíø</div>
  </div>
  <div class="track-info">
    <div class="track-label">–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç</div>
    <div id="track-name" class="track-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞</div>
  </div>
</div>
</body>
</html>
